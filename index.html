<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>GitHub Finder — Pro</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        :root{
            --bg1: #0f1724;
            --bg2: #0b1220;
            --card: rgba(255,255,255,0.06);
            --glass: rgba(255,255,255,0.04);
            --accent: #6366f1;
            --accent-2: #06b6d4;
            --muted: rgba(255,255,255,0.7);
            --success: #10b981;
            --danger: #ff6b6b;
            color-scheme: dark;
        }

        .light{
            --bg1: linear-gradient(180deg,#f7fafc,#eef2ff);
            --bg2: #ffffff;
            --card: rgba(10,10,10,0.04);
            --glass: rgba(10,10,10,0.03);
            --accent: #4f46e5;
            --accent-2: #06b6d4;
            --muted: rgba(17,24,39,0.8);
            --success: #059669;
            --danger: #ef4444;
            color-scheme: light;
        }

        *{box-sizing:border-box}
        body{
            margin:0;
            min-height:100vh;
            font-family:Poppins,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue';
            background: radial-gradient(1200px 600px at 10% 10%, rgba(99,102,241,0.12), transparent),
                        radial-gradient(800px 400px at 90% 90%, rgba(6,182,212,0.06), transparent),
                        var(--bg1);
            display:flex;
            align-items:center;
            justify-content:center;
            padding:28px;
            transition:background 0.4s ease;
        }

        .app{ width:100%; max-width:980px; display:grid; grid-template-columns:380px 1fr; gap:24px; align-items:start; }

        .panel{
            background:var(--card); padding:22px; border-radius:16px;
            border:1px solid var(--glass); backdrop-filter: blur(8px);
            box-shadow:0 10px 30px rgba(2,6,23,0.6);
            display:flex; flex-direction:column; gap:12px;
        }

        .brand{display:flex; gap:12px; align-items:center}
        .brand img{width:48px; height:48px; border-radius:10px; object-fit:cover; border:2px solid rgba(255,255,255,0.06)}
        .brand h1{font-size:18px; margin:0; letter-spacing:0.2px}

        .controls{margin-top:6px}

        .search-row{display:flex; gap:10px}
        input.search{flex:1; padding:12px 14px; border-radius:10px; border:none; background:rgba(255,255,255,0.03); color:var(--muted); font-size:15px}
        input.search::placeholder{color:rgba(255,255,255,0.35)}

        .btn{padding:10px 12px; border-radius:10px; border:none; cursor:pointer; background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:white; font-weight:600}
        .btn.ghost{background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted)}
        .btn:hover{transform:translateY(-3px); box-shadow:0 8px 20px rgba(2,6,23,0.5)}

        .history{margin-top:12px}
        .history h4{font-size:13px; color:var(--muted); margin-bottom:8px}
        .chips{display:flex; flex-wrap:wrap; gap:8px}
        .chip{padding:8px 10px; border-radius:999px; background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.03); cursor:pointer; font-size:13px}
        .chip:hover{transform:translateY(-3px)}

        .small{font-size:13px; color:var(--muted)}

        .main{display:flex; flex-direction:column; gap:16px}
        .card{background:var(--card); padding:18px; border-radius:14px; border:1px solid var(--glass); backdrop-filter: blur(8px);}

        .topbar{display:flex; justify-content:space-between; align-items:center; gap:12px}

        .toggles{display:flex; gap:10px; align-items:center}
        .toggle{display:flex; align-items:center; gap:8px}
        .toggle input{width:44px;height:24px; appearance:none; background:rgba(255,255,255,0.06); border-radius:999px; position:relative; outline:none; cursor:pointer}
        .toggle input:after{content:""; position:absolute; width:18px;height:18px; background:white; border-radius:50%; top:3px; left:3px; transition:transform 0.28s ease}
        .toggle input:checked{background:linear-gradient(90deg,var(--accent),var(--accent-2))}
        .toggle input:checked:after{transform:translateX(20px)}

        .profile{display:grid; grid-template-columns:120px 1fr; gap:18px; align-items:center}
        .avatar-lg{width:120px; height:120px; border-radius:14px; object-fit:cover; border:4px solid var(--accent); transition:transform 0.32s ease}
        .avatar-lg:hover{transform:scale(1.04)}

        .meta h2{margin:0 0 8px 0}
        .meta p{margin:0; color:var(--muted)}

        .stats{display:flex; gap:12px; margin-top:12px}
        .stat{padding:10px; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.02); min-width:100px; text-align:center}
        .stat strong{display:block; font-size:18px}

        .repo-list{margin-top:12px; display:grid; gap:10px}
        .repo{padding:12px; border-radius:10px; display:flex; justify-content:space-between; align-items:center; gap:12px; background:rgba(0,0,0,0.04); border:1px solid rgba(255,255,255,0.02); transition:transform 0.2s ease}
        .repo:hover{transform:translateY(-6px); box-shadow:0 12px 36px rgba(2,6,23,0.5)}

        .repo h3{margin:0; font-size:15px}
        .repo p{margin:0; color:var(--muted); font-size:13px}

        .empty{padding:40px; text-align:center; color:var(--muted)}

        @media(max-width:920px){.app{grid-template-columns:1fr;}}
        @media(max-width:480px){.avatar-lg{width:96px;height:96px} .panel{padding:16px}}

        .fadeIn{opacity:0; transform:translateY(8px); animation:fadeUp 0.6s forwards}
        @keyframes fadeUp{to{opacity:1; transform:none}}
        /* FIX: improve text visibility in LIGHT MODE */
body.light h1,
body.light h2,
body.light h3,
body.light .brand h1,
body.light .search-row input::placeholder,
body.light .topbar div,
body.light .topbar div div {
    color: #1e293b !important;
}

body.light .small {
    color: #5d6571 !important; /* subtle dark */
}
/* FIX: Make stats & recent-search text darker in LIGHT mode */
body.light .stat,
body.light .stat strong,
body.light .chip,
body.light .chips .chip,
body.light .small,
body.light #historyList div,
body.light .stats div {
    color: #1e293b !important;       /* dark slate gray */
}

/* Background of stats boxes slightly darker in light mode */
body.light .stat {
    background: rgba(0,0,0,0.06) !important;
    border-color: rgba(0,0,0,0.08) !important;
}

/* Recent searches title */
body.light .history h4 {
    color: #1e293b !important;
}
/* Professional placeholder color in LIGHT MODE */
body.light input.search::placeholder {
    color: #94a3b8 !important;   /* slate-400 */
}
/* FULL MOBILE RESPONSIVE FIX */

@media(max-width: 900px){
    .app{
        grid-template-columns:1fr;
        gap:18px;
    }
}

@media(max-width: 600px){
    body{
        padding:12px;
    }

    .panel{
        padding:16px;
    }

    .profile{
        grid-template-columns:1fr;
        text-align:center;
    }

    .avatar-lg{
        margin:auto;
    }

    .stats{
        justify-content:center;
        flex-wrap:wrap;
    }

    .repo{
        flex-direction:column;
        text-align:center;
    }

    .repo a{
        width:100%;
        text-align:center;
    }
}

@media(max-width: 430px){
    input.search{
        font-size:14px;
        padding:10px 12px;
    }

    .btn{
        padding:8px 10px;
        font-size:14px;
    }

    .brand h1{
        font-size:16px;
    }

    .brand img{
        width:40px;
        height:40px;
    }
}



    </style>
</head>

<body>

<div class="app">

    <!-- LEFT PANEL -->
    <div class="panel">
        <div class="brand">
            <img src="github image.png" alt="logo">
            <div>
                <h1>GitHub Finder</h1>
                <div class="small">Search users, view profile & repos</div>
            </div>
        </div>

        <div class="controls">
            <div class="search-row">
                <input class="search" id="username" placeholder="Search GitHub username...">
                <button class="btn" id="searchBtn">Search</button>
            </div>

            <div style="display:flex; gap:8px; margin-top:10px">
                <button class="btn ghost" id="clearHistory">Clear History</button>
                <button class="btn ghost" id="refreshBtn">Refresh</button>
            </div>

            <div class="history">
                <h4>Recent searches</h4>
                <div class="chips" id="historyList"></div>
            </div>
        </div>

        <div style="margin-top:12px">
            <div class="small">Tip: Click a recent search to load it quickly.</div>
        </div>
    </div>

    <!-- RIGHT MAIN -->
    <div class="main">

        <div class="card topbar">
            <div>
                <div style="font-size:14px; color:var(--muted)">Results</div>
                <div style="font-weight:600">Live user information from GitHub API</div>
            </div>

            <!-- single button (Light / Dark) placed here as requested -->
            <div class="toggles">
                <button class="btn ghost" id="themeBtn" aria-pressed="false">Light</button>
            </div>
        </div>

        <div id="outputArea" class="card fadeIn">

            <div id="empty" class="empty">
                <div style="font-size:18px; margin-bottom:10px">Start by searching a GitHub username</div>
                <div class="small">You will see profile info, stats and latest repositories.</div>
            </div>

        </div>

    </div>

</div>

<script>

// ============= FETCH USER FROM GITHUB API =============
async function getUser(username) {
    const output = document.getElementById("outputArea");

    // loader
    output.innerHTML = `
        <div style="padding:40px; text-align:center">
            <div class="small">Loading...</div>
        </div>
    `;

    try {
        const res = await fetch(`https://api.github.com/users/${username}`);
        const data = await res.json();

        if (data.message === "Not Found") {
            output.innerHTML = `
                <div class="empty">❌ User not found</div>
            `;
            return;
        }

        // FETCH REPOS
        const repoRes = await fetch(data.repos_url);
        const repos = await repoRes.json();

        let repoHTML = "";
        repos.slice(0, 5).forEach(r => {
            repoHTML += `
                <div class="repo">
                    <div>
                        <h3>${r.name}</h3>
                        <p>${r.description || "No description"}</p>
                    </div>
                    <a href="${r.html_url}" target="_blank" class="btn ghost">Visit</a>
                </div>
            `;
        });

        // FINAL OUTPUT
        output.innerHTML = `
            <div class="profile">
                <img class="avatar-lg" src="${data.avatar_url}" />

                <div class="meta">
                    <h2>${data.name || "No Name"}</h2>
                    <div class="small">@${data.login}</div>

                    <p>${data.bio || "No bio available"}</p>

                    <div class="stats">
                        <div class="stat"><strong>${data.followers}</strong>Followers</div>
                        <div class="stat"><strong>${data.following}</strong>Following</div>
                        <div class="stat"><strong>${data.public_repos}</strong>Repos</div>
                    </div>
                </div>
            </div>

            <h3 style="margin-top:14px">Repositories</h3>
            <div class="repo-list">${repoHTML}</div>
        `;
    }
    catch {
        output.innerHTML = `<div class="empty">⚠ API Request Failed</div>`;
    }
}

// ============= SEARCH BUTTON LOGIC =============
document.getElementById("searchBtn").addEventListener("click", () => {
    const username = document.getElementById("username").value.trim();
    if (username) {
        saveHistory(username);
        getUser(username);
    }
});

// ============= ENTER KEY TO SEARCH =============
document.getElementById("username").addEventListener("keypress", (e) => {
    if (e.key === "Enter") {
        document.getElementById("searchBtn").click();
    }
});

// ============= SEARCH HISTORY =============
function saveHistory(name) {
    let list = JSON.parse(localStorage.getItem("history") || "[]");

    if (!list.includes(name)) {
        list.unshift(name);
        if (list.length > 8) list.pop();
    }

    localStorage.setItem("history", JSON.stringify(list));
    loadHistory();
}

function loadHistory() {
    const area = document.getElementById("historyList");
    const list = JSON.parse(localStorage.getItem("history") || "[]");

    area.innerHTML = "";

    list.forEach(u => {
        const chip = document.createElement("div");
        chip.className = "chip";
        chip.textContent = u;
        chip.onclick = () => {
            document.getElementById("username").value = u;
            getUser(u);
        };
        area.appendChild(chip);
    });
}

loadHistory();

// REFRESH BUTTON
document.getElementById("refreshBtn").addEventListener("click", () => {
    document.getElementById("username").value = "";
    document.getElementById("outputArea").innerHTML = `
        <div class="empty">
            <div style="font-size:18px; margin-bottom:10px">Start by searching a GitHub username</div>
            <div class="small">You will see profile info, stats and latest repositories.</div>
        </div>`;
});

// CLEAR HISTORY
document.getElementById("clearHistory").addEventListener("click", () => {
    localStorage.removeItem("history");
    loadHistory();
});
// --------------------------
//  FIXED THEME TOGGLE BUTTON
// --------------------------
const themeBtn = document.getElementById("themeBtn");

// Load theme from localStorage
(function () {
    const savedTheme = localStorage.getItem("theme") || "dark";

    if (savedTheme === "light") {
        document.body.classList.add("light");
        themeBtn.textContent = "Dark";  // button will switch back to dark
        themeBtn.setAttribute("aria-pressed", "true");
    } else {
        document.body.classList.remove("light");
        themeBtn.textContent = "Light"; // button will switch to light
        themeBtn.setAttribute("aria-pressed", "false");
    }
})();

// Toggle theme on click
themeBtn.addEventListener("click", () => {
    const isLight = document.body.classList.toggle("light");

    if (isLight) {
        themeBtn.textContent = "Dark";  
        themeBtn.setAttribute("aria-pressed", "true");
        localStorage.setItem("theme", "light");
    } else {
        themeBtn.textContent = "Light";  
        themeBtn.setAttribute("aria-pressed", "false");
        localStorage.setItem("theme", "dark");
    }
});


</script>


</body>
</html>
